<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Assessment — Prakriti & Vikriti • Know Your Dosha</title>

  <link rel="icon" href="favicon.ico" />

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    referrerpolicy="no-referrer"
  />

  <!-- Site CSS -->
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/theme.css" />

  <style>
    .nav-link i{margin-right:.4rem}
    /* Make sure custom buttons are readable regardless of theme defaults */
    .btn-ayu { color:#fff !important; }
    .btn-ayu-outline,
    .btn-outline-secondary,
    .btn-secondary {
      background:#fff;
      color:var(--text, #222) !important;
      border:1px solid var(--border, #e6e6e6);
    }
    .btn-ayu-outline:hover,
    .btn-outline-secondary:hover,
    .btn-secondary:hover {
      background:#f7f7f7;
      color:var(--text, #111) !important;
      border-color:var(--border, #d6d6d6);
    }
  </style>
</head>
<body class="d-flex flex-column min-vh-100">

  <!-- Skip link -->
  <a class="skip-link btn btn-sm btn-outline-secondary ms-2 mt-2" href="#main">Skip to main content</a>

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom" aria-label="Primary">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="index.html">
        <i class="fa-solid fa-sun me-2"></i>Know Your Dosha
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
              aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div id="mainNav" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="index.html"><i class="fa-solid fa-sun"></i>Home</a></li>
          <li class="nav-item"><a class="nav-link" href="about-ayurveda.html"><i class="fa-solid fa-mortar-pestle"></i>About Ayurveda</a></li>
          <li class="nav-item"><a class="nav-link active" aria-current="page" href="test.html"><i class="fa-solid fa-scroll"></i>Take the Assessment</a></li>
          <li class="nav-item"><a class="nav-link" href="lifestyle.html"><i class="fa-solid fa-seedling"></i>Lifestyle</a></li>
          <li class="nav-item"><a class="nav-link" href="products.html"><i class="fa-solid fa-leaf"></i>Products</a></li>
          <li class="nav-item"><a class="nav-link" href="faq.html"><i class="fa-solid fa-om"></i>FAQs</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html"><i class="fa-solid fa-user-ninja"></i>About</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- PAGE HEADER -->
  <header class="py-5 hero-ayu border-bottom">
    <div class="container">
      <span class="badge rounded-pill badge-ayu mb-3">
        <i class="fa-solid fa-scroll me-1"></i> Dosha Assessment
      </span>
      <h1 class="display-6 mb-1" style="color:var(--brand-brown);">Prakriti &amp; Vikriti</h1>
      <p class="text-muted mb-0">Select the option that fits you best for each question.</p>
    </div>
  </header>

  <!-- MAIN -->
  <main id="main" class="flex-grow-1">
    <section class="py-5">
      <div class="container">
        <form id="dosha-form" class="card card-ayu p-4" novalidate>
          <!-- Mode -->
          <div class="row g-3 align-items-end mb-3">
            <div class="col-sm-6">
              <label for="mode" class="form-label"><strong>Assessment mode</strong></label>
              <select id="mode" name="mode" class="form-select">
                <option value="prakriti">Prakriti (your baseline)</option>
                <option value="vikriti">Vikriti (how you are now)</option>
              </select>
            </div>
          </div>

          <!-- Q1 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">1) Body frame</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q1_vata" name="q1" value="vata" required>
              <label class="form-check-label" for="q1_vata">Thin, light, finds it hard to gain</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q1_pitta" name="q1" value="pitta">
              <label class="form-check-label" for="q1_pitta">Medium, athletic</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q1_kapha" name="q1" value="kapha">
              <label class="form-check-label" for="q1_kapha">Broad, heavier build, gains easily</label>
            </div>
          </fieldset>

          <!-- Q2 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">2) Skin &amp; hair</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q2_vata" name="q2" value="vata" required>
              <label class="form-check-label" for="q2_vata">Dry skin/hair, cool to touch</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q2_pitta" name="q2" value="pitta">
              <label class="form-check-label" for="q2_pitta">Warm, sensitive/flushes, fine hair</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q2_kapha" name="q2" value="kapha">
              <label class="form-check-label" for="q2_kapha">Oily, smooth skin, thick hair</label>
            </div>
          </fieldset>

          <!-- Q3 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">3) Appetite &amp; digestion</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q3_vata" name="q3" value="vata" required>
              <label class="form-check-label" for="q3_vata">Variable appetite, gas/bloating</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q3_pitta" name="q3" value="pitta">
              <label class="form-check-label" for="q3_pitta">Strong appetite, feels hungry often</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q3_kapha" name="q3" value="kapha">
              <label class="form-check-label" for="q3_kapha">Slow appetite, heaviness after meals</label>
            </div>
          </fieldset>

          <!-- Q4 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">4) Sleep</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q4_vata" name="q4" value="vata" required>
              <label class="form-check-label" for="q4_vata">Light/irregular, wakes easily</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q4_pitta" name="q4" value="pitta">
              <label class="form-check-label" for="q4_pitta">Moderate, sometimes short</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q4_kapha" name="q4" value="kapha">
              <label class="form-check-label" for="q4_kapha">Deep, long, hard to wake</label>
            </div>
          </fieldset>

          <!-- Q5 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">5) Temperature tolerance</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q5_vata" name="q5" value="vata" required>
              <label class="form-check-label" for="q5_vata">Dislikes cold/wind</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q5_pitta" name="q5" value="pitta">
              <label class="form-check-label" for="q5_pitta">Dislikes heat/sun</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q5_kapha" name="q5" value="kapha">
              <label class="form-check-label" for="q5_kapha">Dislikes damp/chilly weather</label>
            </div>
          </fieldset>

          <!-- Q6 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">6) Energy patterns</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q6_vata" name="q6" value="vata" required>
              <label class="form-check-label" for="q6_vata">Burst of energy, then fatigue</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q6_pitta" name="q6" value="pitta">
              <label class="form-check-label" for="q6_pitta">Steady, driven, focused</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q6_kapha" name="q6" value="kapha">
              <label class="form-check-label" for="q6_kapha">Slow but enduring, relaxed</label>
            </div>
          </fieldset>

          <!-- Q7 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">7) Mind &amp; mood</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q7_vata" name="q7" value="vata" required>
              <label class="form-check-label" for="q7_vata">Fast thinker, worry/anxiety</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q7_pitta" name="q7" value="pitta">
              <label class="form-check-label" for="q7_pitta">Sharp, decisive, can be irritable</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q7_kapha" name="q7" value="kapha">
              <label class="form-check-label" for="q7_kapha">Calm, steady, can feel sluggish</label>
            </div>
          </fieldset>

          <!-- Q8 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">8) Bowel habits</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q8_vata" name="q8" value="vata" required>
              <label class="form-check-label" for="q8_vata">Dry/constipated, irregular</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q8_pitta" name="q8" value="pitta">
              <label class="form-check-label" for="q8_pitta">Loose, burning tendency</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q8_kapha" name="q8" value="kapha">
              <label class="form-check-label" for="q8_kapha">Sluggish, heavy</label>
            </div>
          </fieldset>

          <!-- Q9 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">9) Weight tendency</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q9_vata" name="q9" value="vata" required>
              <label class="form-check-label" for="q9_vata">Stays light/underweight</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q9_pitta" name="q9" value="pitta">
              <label class="form-check-label" for="q9_pitta">Stable/medium</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q9_kapha" name="q9" value="kapha">
              <label class="form-check-label" for="q9_kapha">Gains easily, hard to lose</label>
            </div>
          </fieldset>

          <!-- Q10 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">10) Hair &amp; scalp</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q10_vata" name="q10" value="vata" required>
              <label class="form-check-label" for="q10_vata">Dry, frizzy, dandruff-prone</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q10_pitta" name="q10" value="pitta">
              <label class="form-check-label" for="q10_pitta">Fine, early greying/hairfall</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q10_kapha" name="q10" value="kapha">
              <label class="form-check-label" for="q10_kapha">Thick, oily, strong</label>
            </div>
          </fieldset>

          <!-- Q11 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">11) Voice &amp; speech</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q11_vata" name="q11" value="vata" required>
              <label class="form-check-label" for="q11_vata">Fast, variable, sometimes shaky</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q11_pitta" name="q11" value="pitta">
              <label class="form-check-label" for="q11_pitta">Clear, direct, assertive</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q11_kapha" name="q11" value="kapha">
              <label class="form-check-label" for="q11_kapha">Slow, smooth, soft</label>
            </div>
          </fieldset>

          <!-- Q12 -->
          <fieldset class="mb-4">
            <legend class="h6 mb-2">12) Food cravings</legend>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q12_vata" name="q12" value="vata" required>
              <label class="form-check-label" for="q12_vata">Dry/light (crackers, popcorn)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q12_pitta" name="q12" value="pitta">
              <label class="form-check-label" for="q12_pitta">Spicy/sour (pickles, chips)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="q12_kapha" name="q12" value="kapha">
              <label class="form-check-label" for="q12_kapha">Sweet/heavy (desserts, creamy)</label>
            </div>
          </fieldset>

          <!-- Actions -->
          <div class="d-flex gap-2">
            <button class="btn btn-ayu" type="submit">
              <i class="fa-solid fa-clipboard-check me-2"></i>See My Results
            </button>
            <a class="btn btn-ayu-outline" href="index.html">
              <i class="fa-solid fa-arrow-left me-2"></i>Cancel
            </a>
          </div>
        </form>
      </div>
    </section>

    <section class="py-4 section-soft border-top">
      <div class="container small text-muted">
        Educational use only — results suggest tendencies, not diagnoses.
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="mt-auto py-4 border-top">
    <div class="container small">
      <div class="row gy-2 align-items-center">
        <div class="col-md-6">
          <span class="text-muted">For educational purposes only — not medical advice.</span>
        </div>
        <div class="col-md-6 text-md-end">
          <a class="me-3" href="faq.html"><i class="fa-solid fa-circle-question me-1"></i>FAQs</a>
          <a href="about.html"><i class="fa-solid fa-envelope me-1"></i>Contact</a>
        </div>
      </div>
      <div class="text-center text-muted mt-2">© 2025 Know Your Dosha</div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>

  <!-- Tie-aware quiz logic (stores scores + mode) -->
  <script>
    (function () {
      const form = document.getElementById('dosha-form');
      if (!form) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        if (!form.checkValidity()) {
          form.classList.add('was-validated');
          return;
        }

        const fd = new FormData(form);
        const scores = { vata: 0, pitta: 0, kapha: 0 };

        for (const v of fd.values()) {
          if (v in scores) scores[v]++; // ignores 'mode'
        }

        const ORDER = ['vata','pitta','kapha'];
        const arr = Object.entries(scores)
          .sort((a,b) => (b[1]-a[1]) || (ORDER.indexOf(a[0]) - ORDER.indexOf(b[0])));

        const [a,b,c] = arr;
        let dominant = a[0];

        if (a[1] > 0 && a[1] === b[1] && b[1] === c[1]) {
          dominant = 'vata-pitta-kapha';
        } else if (a[1] > 0 && a[1] === b[1]) {
          dominant = `${a[0]}-${b[0]}`; // e.g., "pitta-kapha"
        }

        try {
          localStorage.setItem('dosha', dominant.toLowerCase());
          localStorage.setItem('doshaScores', JSON.stringify(scores));
          localStorage.setItem('doshaMode', (fd.get('mode') || 'prakriti').toString());
        } catch (_) {}

        location.href = 'result.html';
      });
    })();
  </script>
</body>
</html>
